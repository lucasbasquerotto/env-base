name: "{{ params.name }}"
main:
  cloud_hooks:
    repo: "cloud"
    env_repos:
      - repo: "custom_cloud"
        dir: "custom-cloud"
    clouds:
      - "local"
    params:
      x_custom_roles:
        - "role1"
        - "role2"
      x_custom_tasks:
        - "task1"
        - "task2"
    group_params:
      hooks: "test_hooks"
      custom_roles: "test_custom_roles"
      custom_tasks: "test_custom_tasks"
    shared_params: ["local"]
    shared_group_params: "test_shared_group_params"
  cloud_custom_tasks:
    repo: "cloud"
    env_repos:
      - repo: "custom_cloud"
        dir: "custom-cloud"
    clouds:
      - "custom"
    dns:
      - name: "custom"
        dns_type: "NS"
        record: "dev"
        data_list:
          - value: "ns1dev.test.com"
          - value: "ns2dev.test.com"
      - name: "custom"
        dns_type: "A"
        record: "dev"
        data_list:
          - value: "1.2.3.4"
    nodes:
      - "custom"
      - "custom_local"
    group_params:
      custom_tasks: "main_custom_tasks"
    shared_params: ["local"]
    run_stages:
      - tasks:
          - name: "custom"
            nodes: ["custom_local"]
            nodes_tasks: true
  repos:
    repo: "cloud"
    extra_repos:
      - repo: "env_base"
        dir: "env-base"
        env_files:
          - src: "{{ params.env.repo_dir }}/test/extra-repos/file1.yml"
            dest: "tmp/test/ef1.yml"
        env_templates:
          - src: "{{ params.env.repo_dir }}/test/extra-repos/template1.yml"
            dest: "tmp/test/etpl1.yml"
            params:
              value1: "env_base_1_1"
              value2: "env_base_1_2"
          - src: "{{ params.env.repo_dir }}/test/extra-repos/template2.yml"
            dest: "tmp/test/etpl2.yml"
            params:
              value1: "env_base_2_1"
              value2: "env_base_2_2"
        files:
          - src: "test/extra-repos/repo_file1.yml"
            dest: "tmp/test/f1.yml"
          - src: "test/extra-repos/repo_file2.yml"
            dest: "tmp/test/f2.yml"
        templates:
          - src: "test/extra-repos/repo_template1.yml"
            dest: "tmp/test/tpl1.yml"
            params:
              value1: "env_base_1_1 (repo)"
              value2: "env_base_1_2 (repo)"
              value3: "env_base_1_3 (repo)"
          - src: "test/extra-repos/repo_template2.yml"
            dest: "tmp/test/tpl2.yml"
            params:
              value1: "env_base_2_1 (repo)"
              value2: "env_base_2_2 (repo)"
              value3: "env_base_2_3 (repo)"
      - repo: "custom_cloud"
        dir: "custom-cloud"
        env_files:
          - src: "{{ params.env.repo_dir }}/test/extra-repos/file2.yml"
            dest: "tmp/test/ef2.yml"
        env_templates:
          - src: "{{ params.env.repo_dir }}/test/extra-repos/template1.yml"
            dest: "tmp/test/etpl1.yml"
            params:
              value1: "custom_cloud_1"
              value2: "custom_cloud_2"
        files:
          - src: "test/extra-repos/cloud_file1.yml"
            dest: "tmp/test/cf1.yml"
          - src: "test/extra-repos/cloud_file2.yml"
            dest: "tmp/test/cf2.yml"
        templates:
          - src: "test/extra-repos/cloud_template1.yml"
            dest: "tmp/test/ct1.yml"
            params:
              value1: "custom_cloud_1_1 (repo)"
              value2: "custom_cloud_1_2 (repo)"
          - src: "test/extra-repos/cloud_template2.yml"
            dest: "tmp/test/ct2.yml"
            params:
              value1: "custom_cloud_2_1 (repo)"
              value2: "custom_cloud_2_2 (repo)"
      - repo: "pod"
        dir: "pod"
        env_templates:
          - src: "{{ params.env.repo_dir }}/test/extra-repos/template2.yml"
            dest: "tmp/test/etpl2.yml"
            params:
              value1: "pod_1"
              value2: "pod_2"
      - repo: "custom_pod"
        dir: "custom-pod"
        env_files:
          - src: "{{ params.env.repo_dir }}/test/extra-repos/file1.yml"
            dest: "tmp/test/ef1.yml"
          - src: "{{ params.env.repo_dir }}/test/extra-repos/file2.yml"
            dest: "tmp/test/ef2.yml"
    shared_params: ["local"]
main_shared_params:
  local:
    hosts_content: |
      [main]
      localhost ansible_connection=local
      [host:children]
      custom
      custom_local
      [custom]
      [custom_local]
    meta:
      template_no_empty_lines: true
main_shared_group_params:
  test_shared_group_params:
    prop1: "test_custom_roles"
    prop2: "test_custom_tasks"
main_params:
  test_custom_roles:
    role1: "custom-cloud/test/roles/role1"
    role2: "custom-cloud/test/roles/role2"
  test_custom_tasks:
    task1: "custom-cloud/test/tasks/task1.yml"
    task2: "custom-cloud/test/tasks/task2.yml"
  main_custom_tasks:
    cloud: "custom-cloud/test/tasks/cloud.yml"
    dns: "custom-cloud/test/tasks/dns.yml"
    node: "custom-cloud/test/tasks/node.yml"
    run: "custom-cloud/test/tasks/run.yml"
  test_hooks:
    before_cloud_main: "custom-cloud/test/hooks/before_cloud_main.yml"
    after_cloud_main: "custom-cloud/test/hooks/after_cloud_main.yml"
    before_dns: "custom-cloud/test/hooks/before_dns.yml"
    after_dns: "custom-cloud/test/hooks/after_dns.yml"
    before_buckets: "custom-cloud/test/hooks/before_buckets.yml"
    after_buckets: "custom-cloud/test/hooks/after_buckets.yml"
    before_nodes: "custom-cloud/test/hooks/before_nodes.yml"
    after_nodes: "custom-cloud/test/hooks/after_nodes.yml"
    before_wait_nodes: "custom-cloud/test/hooks/before_wait_nodes.yml"
    after_wait_nodes: "custom-cloud/test/hooks/after_wait_nodes.yml"
    before_local_prepare: "custom-cloud/test/hooks/before_local_prepare.yml"
    after_local_prepare: "custom-cloud/test/hooks/after_local_prepare.yml"
    before_remote_prepare: "custom-cloud/test/hooks/before_remote_prepare.yml"
    after_remote_prepare: "custom-cloud/test/hooks/after_remote_prepare.yml"
    before_cron: "custom-cloud/test/hooks/before_cron.yml"
    after_cron: "custom-cloud/test/hooks/after_cron.yml"
    before_exec: "custom-cloud/test/hooks/before_exec.yml"
    after_exec: "custom-cloud/test/hooks/after_exec.yml"
    before_delete_tmp: "custom-cloud/test/hooks/before_delete_tmp.yml"
    after_delete_tmp: "custom-cloud/test/hooks/after_delete_tmp.yml"
    before_delete_main: "custom-cloud/test/hooks/before_delete_main.yml"
    after_delete_main: "custom-cloud/test/hooks/after_delete_main.yml"
clouds:
  local:
    type: "local"
  custom:
    custom_task: true
    type: "cloud"
    node_type: "node"
    credentials: "fake"
    params:
      x_test_param_1: "test_value_1"
      x_test_param_2: "test_value_2"
      x_test_param_3: "test_value_3"
dns:
  custom:
    custom_task: true
    type: "dns"
    zone: "test.com"
    credentials: "fake"
nodes:
  custom:
    cloud: "custom"
    base_dir: "/var/cloud"
    credentials: "fake_user"
    params:
      instance: {}
      region: {}
      size: {}
  custom_local:
    cloud: "local"
    base_dir: "/var/cloud"
    credentials: "user"
    params:
      instance: {}
      region: {}
      size: {}
tasks:
  custom:
    type: "task"
    custom_task: true
    root: true
    file: "run"
    custom_params:
      param1: "value1"
      param2: "value2"
repos:
  env_base:
    src: "https://github.com/lucasbasquerotto/env-base.git"
    version: "master"
  cloud:
    src: "https://github.com/lucasbasquerotto/ansible-docker.git"
    version: "master"
  custom_cloud:
    src: "https://github.com/lucasbasquerotto/custom-cloud.git"
    version: "master"
  pod:
    src: "https://github.com/lucasbasquerotto/pod.git"
    version: "master"
  custom_pod:
    src: "https://github.com/lucasbasquerotto/custom-pod.git"
    version: "master"
credentials:
  fake: {}
  fake_user:
    host_user: "test"
    host_pass: "123456"
  user:
    host_user: "root"
